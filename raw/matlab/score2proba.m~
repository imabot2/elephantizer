close all;
clear all;
clc;



zraw=[  0.8 ; 0.85 ; 0.95 ; 0.99 ; 0.87 ; 0.67 ];


% Reverse scores to get highest values for less known questions







beta = 1;
%beta = abs(beta)^3.7 * sign(beta)

if (beta>=0)
    z=1-(zraw-min(zraw));
    beta = (10*beta)
else 
    z=zraw-min(zraw);
    beta = -(10*beta)
end




Sigma = sum(exp(beta*z))
for i=1:size(z)
    sigma(i) = exp(beta*z(i))/Sigma;
end;


% z2=1-z;
% Somme= sum(z2.^beta);
% for i=1:size(z)
%     sigma(i) = (z2(i)^beta)/Somme;
% end


sigma = sigma'


f = figure();
f.Position = [100 500 1600 400];
subplot (1,2,1);
x=[1:size(z)]';

nil = zeros(size(x));
bar(x, [zraw nil], 'grouped')
ylabel('Data');
yyaxis right


bar(x, [nil sigma], 'grouped')
ylabel('Proba');

subplot (1,2,2);
pie (sigma)
title('Probabilities for each question');

sum (sigma)